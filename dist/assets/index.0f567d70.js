(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();function a(){document.documentElement.style.setProperty("--doc-height",`${window.innerHeight}px`)}const c=()=>{a(),window.addEventListener("resize",a)};function r(l){return l.replace(/[&<>'"]/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[t]||t)}class d{constructor(){this.notes=this.getNotes(),this.actualNoteEdit=null,this.actualNoteColor=null,this.$notesContainer=document.querySelector(".notes-container"),this.$placeholder=document.querySelector(".placeholder"),this.$form=document.querySelector("#new-note"),this.$formTitle=this.$form.querySelector(".note-title"),this.$formText=this.$form.querySelector(".note-text"),this.$formClose=this.$form.querySelector("#close"),this.$modal=document.querySelector(".modal"),this.$modalTitle=this.$modal.querySelector(".modal-title"),this.$modalText=this.$modal.querySelector(".modal-text"),this.$modalSave=this.$modal.querySelector("#save-modal"),this.$colorsTooltip=document.querySelector(".color-tooltip"),this.$colorsTooltipBtns=this.$colorsTooltip.querySelectorAll(".color"),this.addEventListeners(),this.displayNotes()}addEventListeners(){document.body.addEventListener("click",t=>{this.handleFormVisibility(t),this.openModal(t),this.deleteNote(t),this.openColorsTooltip(t)}),this.$form.addEventListener("submit",t=>{t.preventDefault(),this.addNote()}),this.$formClose.addEventListener("click",t=>{t.stopPropagation(),this.closeForm()}),this.$modalSave.addEventListener("click",t=>{t.stopPropagation(),this.updateNote()}),this.$colorsTooltipBtns.forEach(t=>{t.addEventListener("click",e=>{e.stopPropagation(),this.updateNoteColor(e),this.closeColorstooltip()})})}displayNotes(){this.$placeholder.style.display=this.notes.length>0?"none":"block",this.$notesContainer.innerHTML=this.notes.map(t=>`<div class="note" style="background-color: ${t.color}" data-id="${t.id}">
                        ${t.title?`<h2 class="note-title">${t.title}</h2>`:""}
                        <p class="note-text">${t.text}</p>
                        <div class="note-actions">
                            <svg class="action note-edit" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M15.728 9.686l-1.414-1.414L5 17.586V19h1.414l9.314-9.314zm1.414-1.414l1.414-1.414-1.414-1.414-1.414 1.414 1.414 1.414zM7.242 21H3v-4.243L16.435 3.322a1 1 0 0 1 1.414 0l2.829 2.829a1 1 0 0 1 0 1.414L7.243 21z" fill="#333"/></svg>
                            <svg class="action note-delete" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M7 4V2h10v2h5v2h-2v15a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6H2V4h5zM6 6v14h12V6H6zm3 3h2v8H9V9zm4 0h2v8h-2V9z" fill="#333"/></svg>

                            <svg class="action note-color" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M19.228 18.732l1.768-1.768 1.767 1.768a2.5 2.5 0 1 1-3.535 0zM8.878 1.08l11.314 11.313a1 1 0 0 1 0 1.415l-8.485 8.485a1 1 0 0 1-1.414 0l-8.485-8.485a1 1 0 0 1 0-1.415l7.778-7.778-2.122-2.121L8.88 1.08zM11 6.03L3.929 13.1H18.07L11 6.03z" fill="#333"/></svg>
                        </div>
                    </div>`).join("")}handleFormVisibility(t){this.$form.contains(t.target)?this.$form.classList.add("active"):this.closeForm()}addNote(){const t=r(this.$formTitle.value.trim()),e=r(this.$formText.textContent.trim());if(!e)return;const s={title:t,text:e,color:"white",id:Date.now()};this.notes.unshift(s),this.displayNotes(),this.closeForm(),this.saveNotes()}closeForm(){this.$form.classList.remove("active"),this.$formTitle.value="",this.$formText.textContent="",this.$formTitle.blur(),this.$formText.blur()}openModal(t){if(!t.target.matches(".note-edit, note-edit *"))return;this.$modal.classList.toggle("active");const e=t.target.closest(".note"),s=e.querySelector(".note-title"),o=e.querySelector(".note-text");this.actualNoteEdit=e.dataset.id,this.$modalTitle.value=s?s.innerText:"",this.$modalText.textContent=o.innerText}updateNote(){if(!this.$modalText.textContent.trim())return;const t=this.notes.find(e=>e.id==this.actualNoteEdit);t.title=r(this.$modalTitle.value.trim()),t.text=r(this.$modalText.textContent.trim()),this.displayNotes(),this.closeModal(),this.saveNotes()}closeModal(){this.$modal.classList.remove("active"),this.$modalTitle.value="",this.$modalText.value="",this.actualNoteEdit=null}deleteNote(t){if(!t.target.matches(".note-delete, .note-delete *"))return;const e=t.target.closest(".note");this.notes=this.notes.filter(s=>s.id!==parseInt(e.dataset.id)),this.displayNotes(),this.saveNotes()}openColorsTooltip(t){t.target.matches(".note-color, .note-color *")?(this.$colorsTooltip.style.top=`${t.clientY}px`,this.$colorsTooltip.style.left=`${t.clientX}px`,this.$colorsTooltip.classList.add("active"),this.actualNoteColor=t.target.closest(".note").dataset.id):this.closeColorstooltip()}updateNoteColor(t){const e=this.notes.find(s=>s.id==this.actualNoteColor);e.color=t.target.style.backgroundColor,this.displayNotes(),this.saveNotes()}closeColorstooltip(){this.$colorsTooltip.classList.remove("active"),this.actualNoteColor=null}getNotes(){return JSON.parse(localStorage.getItem("notes"))||[]}saveNotes(){localStorage.setItem("notes",JSON.stringify(this.notes))}}c();new d;
